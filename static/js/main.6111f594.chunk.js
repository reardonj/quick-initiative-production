(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{71:function(e,n,t){e.exports=t(87)},76:function(e,n,t){},87:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(8),l=t.n(i),c=(t(76),t(14)),o=t(52),u=t(164),s=t(160),m=t(152),f=t(153),d=t(48),p=t(5),v=t(134),h=t(123),E=t(159),g=t(154),b=t(128),w=t(89),y=t(130),k=t(158),j=t(131),C=t(135),O=t(125),I=t(161),N=t(129),x=[25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0,-1,-2];var S=Object(p.a)(function(e){return{button:{margin:e.spacing(1)}}})(function(e){var n=e.classes,t=e.disabled,i=e.onSelected,l=Object(a.useState)(null),o=Object(c.a)(l,2),u=o[0],s=o[1];return r.a.createElement("span",null,r.a.createElement(h.a,{onClick:function(e){s(e.currentTarget)},className:n.button,disabled:t,"aria-label":"Add to Initiative"},r.a.createElement(O.a,null)),r.a.createElement(I.a,{id:"lock-menu",anchorEl:u,open:Boolean(u),onClose:function(){s(null)}},x.map(function(e,n){return r.a.createElement(N.a,{dense:!0,key:e,onClick:function(e){return function(e,n){s(null),i(x[n])}(0,n)}},e)})))}),M=t(32),B=t(46),L=function(){function e(n,t){Object(M.a)(this,e),this.round=n,this.activeItem=t}return Object(B.a)(e,[{key:"next",value:function(n){var t=(this.activeItem+1)%n,a=this.round;return t<=this.activeItem&&a++,new e(a,t)}}]),e}(),D="NotStarted",T=function(){function e(n,t,a,r,i,l){Object(M.a)(this,e),this.name=n,this.init=t,this.id=a,this.active=r,this.canMoveDown=i,this.canMoveUp=l}return Object(B.a)(e,[{key:"updateActive",value:function(n){return new e(this.name,this.init,this.id,n,this.canMoveDown,this.canMoveUp)}},{key:"updateMovement",value:function(n,t){var a=n<t-1,r=n>0;return new e(this.name,this.init,this.id,this.active,a,r)}}]),e}();function A(e){var n=[];return{fire:function(){return n.map(function(n){return n(e())})},useEvents:function(t){var r=Object(a.useState)(e),i=Object(c.a)(r,2),l=i[0],o=i[1],u=function(e){o(e),t(e)};return Object(a.useEffect)(function(){return n.push(u),function(){return function(e,n){for(var t=e.length-1;t>=0;t--)e[t]===n&&e.splice(t,1)}(n,u)}}),l}}}var R=D,F=A(function(){return R}),P=F.fire,z=F.useEvents;var G=0,U=[],J={},W=A(function(){return U.slice().map(function(e){return J[e].entry})}),q=W.fire,$=W.useEvents;function _(e){return J[U[e]]}function Q(e,n){H(e,n,function(e){for(var n=0;n<U.length;n++)if(_(n).entry.init<e)return n;return U.length}(n))}function H(e,n,t){var a=G++,r=new T(e,n,a,!1,!1,!1);U.splice(t,0,r.id),R instanceof L&&R.activeItem>=t&&(R=new L(R.round,R.activeItem+1),P()),J[r.id]={entry:r,handlers:A(function(){return J[r.id].entry})},Y(t),q()}function K(e){var n=U.findIndex(function(n){return n===e.id});if(-1===n)throw new Error("Tried to remove initiative entry that doesn't exist. ID:"+e.id);if(U.splice(n,1),delete J[e.id],q(),Y(Math.min(n,U.length-1)),R instanceof L){if(0===U.length)R=D;else if(n>=R.activeItem){var t=Math.max(0,R.activeItem-1);if(R=new L(R.round,t),e.active){var a=_(t);Z(a,!0),a.handlers.fire()}}P()}}function V(e,n){var t=U[e];U[e]=U[n],U[n]=t;var a=X(e),r=X(n);R instanceof L&&(e===R.activeItem?(R=new L(R.round,n),P()):n===R.activeItem&&(R=new L(R.round,e),P())),q(),a(),r()}function X(e){var n=_(e);return n.entry=n.entry.updateMovement(e,U.length),n.handlers.fire}function Y(e){e>=U.length||e<0||(X(e)(),e>0&&X(e-1)(),e<U.length-1&&X(e+1)())}function Z(e,n){J[e.entry.id].entry=e.entry.updateActive(n)}var ee=function e(n){Object(M.a)(this,e),this.name=n,this.groups=void 0,this.groups=new Set};function ne(e,n){return e.name.localeCompare(n.name)}var te=A(le),ae=te.fire,re=te.useEvents,ie=new Map;function le(){return Array.from(ie.values(),function(e){return e.entry})}function ce(e,n){if(ie.has(e))return!1;var t=new ee(e);return n.forEach(function(e){t.groups.add(e)}),ie.set(e,{entry:t,handlers:A(function(){var n=ie.get(e);if(n)return n.entry;throw new Error("Missing history item.")})}),ae(),!0}function oe(){localStorage.setItem("historyItems",JSON.stringify(le().map(function(e){return{name:e.name,groups:Array.from(e.groups).filter(function(e){return e.length>0})}})))}var ue=localStorage.getItem("historyItems");ue&&JSON.parse(ue).forEach(function(e){ce(e.name,e.groups)});var se=t(132);var me=Object(p.a)(function(e){return{input:{margin:e.spacing(1)}}})(function(e){var n=function(e,n){var t=ie.get(e);if(!t)throw new Error("Tried to get events for non-existant entry.");return t.handlers.useEvents(n)}(e.item.name,function(){});return r.a.createElement(w.a,{dense:!0,button:!0,onClick:function(){n.groups.has("")&&!e.showInit?function(e,n){var t=ie.get(e.name);if(!t)throw new Error("Missing history item.");t.entry.groups.delete(n)&&(t.handlers.fire(),ae())}(n,""):function(e,n){var t=ie.get(e.name);if(!t)throw new Error("Missing history item.");t.entry.groups.add(n),t.handlers.fire(),ae()}(n,"")}},r.a.createElement(y.a,{primary:n.name}),e.showInit?r.a.createElement(j.a,null,r.a.createElement(h.a,{onClick:function(){return function(e){ie.delete(e.name)&&ae()}(n)}},r.a.createElement(se.a,null)),r.a.createElement(S,{disabled:!1,onSelected:function(e){Q(n.name,e)}})):r.a.createElement(r.a.Fragment,null))});function fe(e){return null===e||null!==e.match(/^ *$/)}var de=t(133);var pe=Object(p.a)(function(e){return{input:{margin:e.spacing(1)}}})(function(e){var n=e.classes,t=Object(a.useRef)(null),i=Object(a.useState)(!0),l=Object(c.a)(i,2),o=l[0],u=l[1],s=Object(a.useState)(""),m=Object(c.a)(s,2),f=m[0],d=m[1];return r.a.createElement(w.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a,{inputRef:t,placeholder:"Group Name",onChange:function(e){u(fe(e.currentTarget.value)),d(e.currentTarget.value)},inputProps:{"aria-label":"Group Name"}})),r.a.createElement(j.a,null,r.a.createElement(h.a,{className:n.input,disabled:o,onClick:function(){var e,n;e="",n=f,ie.forEach(function(t){t.entry.groups.delete(e)&&(t.entry.groups.add(n),t.handlers.fire())}),ae()}},r.a.createElement(de.a,null))))});var ve=Object(p.a)(function(){return{input:{},historyList:{overflow:"scroll",height:"calc(100% - 70px)"},filteringBar:{overflow:"hidden"}}})(function(e){var n=e.classes,t=Object(a.useRef)(null),i=Object(a.useState)(!0),l=Object(c.a)(i,2),o=l[0],u=l[1],s=Object(a.useState)(""),m=Object(c.a)(s,2),f=m[0],d=m[1],p=re(oe),h=Object(a.useMemo)(function(){return p.filter(function(e){return function(e,n){if(e.name.toLocaleLowerCase().includes(n.toLocaleLowerCase()))return!0;var t=!1;return e.groups.forEach(function(e){e.toLocaleLowerCase().includes(n.toLocaleLowerCase())&&(t=!0)}),t}(e,f)}).sort(ne)},[p,f]),E=p.filter(function(e){return e.groups.has("")}),g=h.filter(function(e){return 0===e.groups.size}),O=new Map,I=!0,N=!1,x=void 0;try{for(var M,B=function(){var e=M.value;e.groups.forEach(function(n){if(!fe(n)){var t=O.get(n);void 0===t?O.set(n,[e]):t.push(e)}})},L=h[Symbol.iterator]();!(I=(M=L.next()).done);I=!0)B()}catch(D){N=!0,x=D}finally{try{I||null==L.return||L.return()}finally{if(N)throw x}}return r.a.createElement("div",{className:n.filteringBar},r.a.createElement(b.a,null,r.a.createElement(w.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a,{inputRef:t,placeholder:"Name",onChange:function(e){u(fe(e.currentTarget.value)),d(e.currentTarget.value)},className:n.input,inputProps:{"aria-label":"Name"}})),r.a.createElement(j.a,null,r.a.createElement(S,{disabled:o,onSelected:function(e){null!=t.current&&(Q(t.current.value,e),ce(t.current.value,[""]),t.current.value="",u(!0),d(""))}})))),r.a.createElement(v.a,null),E.length>0?r.a.createElement(b.a,null,r.a.createElement(pe,null),E.map(function(e){return r.a.createElement(me,{key:e.name,item:e,showInit:!1})}),r.a.createElement(v.a,null)):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:n.historyList},Array.from(O).sort(function(e,n){return e[0].localeCompare(n[0])}).map(function(e){return r.a.createElement(b.a,null,r.a.createElement(C.a,{disableSticky:!0},e[0]),e[1].map(function(e){return r.a.createElement(me,{key:e.name,item:e,showInit:!0})}))}),g.length>0?r.a.createElement(b.a,null,r.a.createElement(C.a,{disableSticky:!0},"Others"),g.map(function(e){return r.a.createElement(me,{key:e.name,item:e,showInit:!0})})):r.a.createElement(r.a.Fragment,null)))});var he=Object(p.a)(function(e){return{label:{margin:e.spacing(1)}}})(function(e){var n=e.classes,t=z(function(){});return t instanceof L?r.a.createElement(d.a,{variant:"body2",color:"inherit",noWrap:!0,className:n.label},"Round ",t.round):r.a.createElement(r.a.Fragment,null)}),Ee=t(144),ge=t(145),be=t(136),we=t(137),ye=t(140),ke=t(141),je=t(142),Ce=t(138),Oe=t(139),Ie=t(143),Ne=[2,3,4,5];var xe=Object(p.a)(function(e){return{initCell:{width:"auto",align:"right",padding:"checkbox"},titleCell:{width:"100%"},actionCell:{width:"auto"},hpControls:{marginRight:e.spacing(2),alignSelf:"center"}}})(function(e){var n,t,i=e.classes,l=Object(a.useState)(0),o=Object(c.a)(l,2),u=o[0],s=o[1],m=(n=e.item.id,t=function(){},J[n].handlers.useEvents(t)),f=Object(a.useState)(null),p=Object(c.a)(f,2),v=p[0],E=p[1],g=function(e,n){E(null),function(e,n){for(var t=U.findIndex(function(n){return n===e.id}),a=J[U[t]],r=0;r<n;r++)H(a.entry.name+" ("+(r+2)+")",a.entry.init,t+1+r);a.entry=new T(a.entry.name+" (1)",a.entry.init,a.entry.id,a.entry.active,a.entry.canMoveDown,a.entry.canMoveUp),a.handlers.fire()}(m,Ne[n]-1)};return r.a.createElement(be.a,{selected:m.active},r.a.createElement(we.a,{className:i.actionCell,padding:"checkbox"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(h.a,{onClick:function(e){return function(e){var n=U.findIndex(function(n){return n===e.id});if(-1===n)throw new Error("Tried to move initiative entry that doesn't exist. ID:"+e.id);0!==n&&V(n,n-1)}(m)},disabled:!m.canMoveUp},r.a.createElement(Ce.a,null)),r.a.createElement(h.a,{onClick:function(e){return function(e){var n=U.findIndex(function(n){return n===e.id});if(-1===n)throw new Error("Tried to move initiative entry that doesn't exist. ID:"+e.id);n!==U.length-1&&V(n,n+1)}(m)},disabled:!m.canMoveDown},r.a.createElement(Oe.a,null)))),r.a.createElement(we.a,{className:i.initCell},m.init),r.a.createElement(we.a,{className:i.titleCell},r.a.createElement(d.a,{variant:"subtitle1"},m.name)),r.a.createElement(we.a,{className:i.actionCell,padding:"checkbox"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ye.a,{item:!0,alignItems:"center",style:{alignSelf:"center"}},r.a.createElement(ke.a,{color:"primary",variant:"outlined",size:"small"},r.a.createElement(je.a,{onClick:function(){return s(u-5)}},"-5"),r.a.createElement(je.a,{onClick:function(){return s(u-1)}},"-1"))),r.a.createElement(ye.a,{item:!0,alignItems:"center",style:{alignSelf:"center"}},r.a.createElement(d.a,{align:"center",style:{width:50}},u)),r.a.createElement(ye.a,{item:!0,alignItems:"center",className:i.hpControls},r.a.createElement(ke.a,{color:"primary",variant:"outlined",size:"small"},r.a.createElement(je.a,{onClick:function(){return s(u+1)}},"+1"),r.a.createElement(je.a,{onClick:function(){return s(u+5)}},"+5"))),r.a.createElement("span",null,r.a.createElement(h.a,{onClick:function(e){E(e.currentTarget)},className:i.button,"aria-label":"Duplicate Entry"},r.a.createElement(Ie.a,null)),r.a.createElement(I.a,{anchorEl:v,open:Boolean(v),onClose:function(){E(null)}},Ne.map(function(e,n){return r.a.createElement(N.a,{dense:!0,key:e,onClick:function(e){return g(0,n)}},e)}))),r.a.createElement(h.a,{onClick:function(e){return K(m)}},r.a.createElement(se.a,null)))))});var Se=Object(p.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},initCell:{width:"50px",align:"right"}}})(function(e){var n=e.classes,t=$(function(){});return r.a.createElement("div",{className:n.root},r.a.createElement(Ee.a,null,r.a.createElement(ge.a,null,t.map(function(e){return r.a.createElement(xe,{item:e,key:e.id})}))))}),Me=t(146),Be=t(147),Le=t(148);var De=Object(p.a)(function(e){return{fabBox:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},fab:{marginLeft:e.spacing(2)}}})(function(e){var n=e.classes,t=z(function(){}),a=$(function(){}),i=0===a.length;return r.a.createElement("div",{className:n.fabBox},r.a.createElement(Me.a,{className:n.fab,color:"secondary",disabled:i,onClick:function(){return a.forEach(function(e){return K(e)})}},r.a.createElement(Be.a,null)),r.a.createElement(Me.a,{className:n.fab,color:"primary",disabled:i,onClick:function(){return t instanceof L?function(){if(R instanceof L){var e=J[U[R.activeItem]];R=R.next(U.length);var n=J[U[R.activeItem]];Z(e,!1),Z(n,!0),P(),e.handlers.fire(),n.handlers.fire()}}():function(){if(0!==U.length){R=new L(1,0);var e=_(0);e.entry=e.entry.updateActive(!0),P(),e.handlers.fire()}}()}},r.a.createElement(Le.a,null)))}),Te=t(162),Ae=t(163),Re=t(156),Fe=t(149),Pe=t(150),ze=t(151),Ge=[{icon:r.a.createElement(Fe.a,null),name:"To www.jmreardon.com",url:"https://www.jmreardon.com/projects/quick_initiative/"},{icon:r.a.createElement(Pe.a,null),name:"Get the Code",url:"https://github.com/reardonj/quick-initiative"}];var Ue=Object(p.a)(function(e){return{speedDial:{position:"absolute",top:e.spacing(.5),right:e.spacing(.5)}}})(function(e){var n=e.classes,t=r.a.useState(!1),a=Object(c.a)(t,2),i=a[0],l=a[1],o=function(){return l(function(e){return!e})},u=function(){return l(!0)},s=function(){return l(!1)};return r.a.createElement("div",{className:n.root},r.a.createElement(Te.a,{ariaLabel:"SpeedDial openIcon example",className:n.speedDial,icon:r.a.createElement(Ae.a,{icon:r.a.createElement(ze.a,null),openIcon:r.a.createElement(ze.a,null)}),onBlur:s,onClick:o,onClose:s,onFocus:u,onMouseEnter:u,onMouseLeave:s,open:i,direction:"down"},Ge.map(function(e){return r.a.createElement(Re.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:function(){o(),window.open(e.url,"_blank")}})})))});var Je=Object(p.a)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:Object(o.a)({},e.breakpoints.up("md"),{width:300,flexShrink:0}),drawerPaper:{width:300},menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),content:{flexGrow:1,padding:e.spacing(2)},input:{margin:e.spacing(1)},toolbar:e.mixins.toolbar,grow:{flexGrow:1}}})(function(e){var n=e.classes,t=r.a.useState(!1),a=Object(c.a)(t,2),i=a[0],l=a[1];function o(){l(!i)}var p=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n.toolbar}),r.a.createElement(v.a,null),r.a.createElement(ve,null));return r.a.createElement("div",{className:n.root},r.a.createElement(u.a,null),r.a.createElement(m.a,{position:"fixed",className:n.appBar},r.a.createElement(f.a,null,r.a.createElement(h.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:o,className:n.menuButton},r.a.createElement(g.a,null)),r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0},"Quick Initiative"),r.a.createElement(he,null),r.a.createElement("div",{className:n.grow}),r.a.createElement(Ue,null))),r.a.createElement("nav",{className:n.drawer,"aria-label":"initiative entry history"},r.a.createElement(E.a,{mdUp:!0,implementation:"css"},r.a.createElement(s.a,{variant:"temporary",open:i,onClose:o,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0}},p)),r.a.createElement(E.a,{smDown:!0,implementation:"css"},r.a.createElement(s.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0},p))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(Se,null)),r.a.createElement(De,null))});var We=function(e){return r.a.createElement(Je,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[71,1,2]]]);
//# sourceMappingURL=main.6111f594.chunk.js.map