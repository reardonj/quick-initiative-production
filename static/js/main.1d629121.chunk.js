(this["webpackJsonpquick-initiative"]=this["webpackJsonpquick-initiative"]||[]).push([[0],{78:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(10),c=t.n(a),o=(t(78),t(14)),s=t(156),l=t(163),u=t(157),j=t(158),d=t(52),f=t(6),h=t(138),b=t(126),m=t(161),O=t(159),p=t(59),v=t(137),x=t(89),g=t(133),w=t(160),y=t(134),k=t(139),C=t(129),I=t(130),N=t(132),S=t(88),E=t(2),M=Array.from({length:25},(function(e,n){return n-1}));var B=Object(f.a)((function(e){return{button:{margin:e.spacing(1)},popupGrid:{width:320}}}))((function(e){var n=e.classes,t=e.disabled,i=e.onSelected,a=Object(r.useState)(null),c=Object(o.a)(a,2),s=c[0],l=c[1];return Object(E.jsxs)("span",{children:[Object(E.jsx)(b.a,{onClick:function(e){l(e.currentTarget)},className:n.button,disabled:t,"aria-label":"Add to Initiative",children:Object(E.jsx)(C.a,{})}),Object(E.jsx)(I.a,{id:"lock-menu",anchorEl:s,open:Boolean(s),onClose:function(){l(null)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:Object(E.jsx)(N.a,{cols:5,cellHeight:48,spacing:0,className:n.popupGrid,children:M.map((function(e,n){return Object(E.jsx)(S.a,{size:"small",onClick:function(e){return function(e,n){l(null),i(M[n])}(0,n)},children:e})}))})})]})})),L=t(32),D=t(48),T=function(){function e(n,t){Object(L.a)(this,e),this.round=n,this.activeItem=t}return Object(D.a)(e,[{key:"next",value:function(n){var t=(this.activeItem+1)%n,r=this.round;return t<=this.activeItem&&r++,new e(r,t)}}]),e}(),z="NotStarted",A=function(){function e(n,t,r,i,a,c){Object(L.a)(this,e),this.name=n,this.init=t,this.id=r,this.active=i,this.canMoveDown=a,this.canMoveUp=c}return Object(D.a)(e,[{key:"updateActive",value:function(n){return new e(this.name,this.init,this.id,n,this.canMoveDown,this.canMoveUp)}},{key:"updateMovement",value:function(n,t){var r=n<t-1,i=n>0;return new e(this.name,this.init,this.id,this.active,r,i)}}]),e}();function G(e){var n=[];return{fire:function(){return n.map((function(n){return n(e())}))},useEvents:function(t){var i=Object(r.useState)(e),a=Object(o.a)(i,2),c=a[0],s=a[1],l=function(e){s(e),t(e)};return Object(r.useEffect)((function(){return n.push(l),function(){return function(e,n){for(var t=e.length-1;t>=0;t--)e[t]===n&&e.splice(t,1)}(n,l)}})),c}}}var R=z,F=G((function(){return R})),P=F.fire,U=F.useEvents;var q=0,J=[],W={},$=G((function(){return J.map((function(e){return W[e].entry}))})),_=$.fire,H=$.useEvents;function Q(e){return W[J[e]]}function K(e,n){V(e,n,function(e){for(var n=0;n<J.length;n++)if(Q(n).entry.init<e)return n;return J.length}(n))}function V(e,n,t){var r=q++,i=new A(e,n,r,!1,!1,!1);J.splice(t,0,i.id),W[i.id]={entry:i,handlers:G((function(){return W[i.id].entry}))},R instanceof T&&R.activeItem>=t&&(R=new T(R.round,R.activeItem+1),P()),ee(t),_()}function X(e){var n=J.findIndex((function(n){return n===e.id}));if(-1===n)throw new Error("Tried to remove initiative entry that doesn't exist. ID:"+e.id);if(J.splice(n,1),delete W[e.id],_(),ee(Math.min(n,J.length-1)),R instanceof T){if(0===J.length)R=z;else if(n>=R.activeItem){var t=Math.max(0,R.activeItem-1);if(R=new T(R.round,t),e.active){var r=Q(t);ne(r,!0),r.handlers.fire()}}P()}}function Y(e,n){var t=J[e];J[e]=J[n],J[n]=t;var r=Z(e),i=Z(n);R instanceof T&&(e===R.activeItem?(R=new T(R.round,n),P()):n===R.activeItem&&(R=new T(R.round,e),P())),_(),r(),i()}function Z(e){var n=Q(e);return n.entry=n.entry.updateMovement(e,J.length),n.handlers.fire}function ee(e){e>=J.length||e<0||(Z(e)(),e>0&&Z(e-1)(),e<J.length-1&&Z(e+1)())}function ne(e,n){W[e.entry.id].entry=e.entry.updateActive(n)}var te=function e(n){Object(L.a)(this,e),this.name=n,this.groups=void 0,this.groups=new Set};function re(e,n){return e.name.localeCompare(n.name)}var ie=G(se),ae=ie.fire,ce=ie.useEvents,oe=new Map;function se(){return Array.from(oe.values(),(function(e){return e.entry}))}function le(e,n){if(oe.has(e))return!1;var t=new te(e);return n.forEach((function(e){t.groups.add(e)})),oe.set(e,{entry:t,handlers:G((function(){var n=oe.get(e);if(n)return n.entry;throw new Error("Missing history item.")}))}),ae(),!0}function ue(){localStorage.setItem("historyItems",JSON.stringify(se().map((function(e){return{name:e.name,groups:Array.from(e.groups).filter((function(e){return e.length>0}))}}))))}var je=localStorage.getItem("historyItems");je&&JSON.parse(je).forEach((function(e){le(e.name,e.groups)}));var de=t(135);var fe=Object(f.a)((function(e){return{input:{margin:e.spacing(1)}}}))((function(e){var n=function(e,n){var t=oe.get(e);if(!t)throw new Error("Tried to get events for non-existant entry.");return t.handlers.useEvents(n)}(e.item.name,(function(){}));return Object(E.jsxs)(x.a,{dense:!0,button:!0,onClick:function(){n.groups.has("")&&!e.showInit?function(e,n){var t=oe.get(e.name);if(!t)throw new Error("Missing history item.");t.entry.groups.delete(n)&&(t.handlers.fire(),ae())}(n,""):function(e,n){var t=oe.get(e.name);if(!t)throw new Error("Missing history item.");t.entry.groups.add(n),t.handlers.fire(),ae()}(n,"")},children:[Object(E.jsx)(g.a,{primary:n.name}),e.showInit?Object(E.jsxs)(y.a,{children:[Object(E.jsx)(b.a,{onClick:function(){return function(e){oe.delete(e.name)&&ae()}(n)},children:Object(E.jsx)(de.a,{})}),Object(E.jsx)(B,{disabled:!1,onSelected:function(e){K(n.name,e)}})]}):Object(E.jsx)(E.Fragment,{})]})}));function he(e){return null===e||null!==e.match(/^ *$/)}var be=t(136);var me=Object(f.a)((function(e){return{input:{margin:e.spacing(1)}}}))((function(e){var n=e.classes,t=Object(r.useRef)(null),i=Object(r.useState)(!0),a=Object(o.a)(i,2),c=a[0],s=a[1],l=Object(r.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1];return Object(E.jsxs)(x.a,{children:[Object(E.jsx)(g.a,{children:Object(E.jsx)(w.a,{inputRef:t,placeholder:"Group Name",onChange:function(e){s(he(e.currentTarget.value)),d(e.currentTarget.value)},inputProps:{"aria-label":"Group Name"}})}),Object(E.jsx)(y.a,{children:Object(E.jsx)(b.a,{className:n.input,disabled:c,onClick:function(){var e,n;e="",n=j,oe.forEach((function(t){t.entry.groups.delete(e)&&(t.entry.groups.add(n),t.handlers.fire())})),ae()},children:Object(E.jsx)(be.a,{})})})]})}));var Oe=Object(f.a)((function(){return{input:{},historyList:{overflow:"scroll",height:"calc(100% - 70px)"},filteringBar:{overflow:"hidden"}}}))((function(e){var n,t=e.classes,i=Object(r.useRef)(null),a=Object(r.useState)(!0),c=Object(o.a)(a,2),s=c[0],l=c[1],u=Object(r.useState)(""),j=Object(o.a)(u,2),d=j[0],f=j[1],b=ce(ue),m=Object(r.useMemo)((function(){return b.filter((function(e){return function(e,n){if(e.name.toLocaleLowerCase().includes(n.toLocaleLowerCase()))return!0;var t=!1;return e.groups.forEach((function(e){e.toLocaleLowerCase().includes(n.toLocaleLowerCase())&&(t=!0)})),t}(e,d)})).sort(re)}),[b,d]),O=b.filter((function(e){return e.groups.has("")})),C=m.filter((function(e){return 0===e.groups.size})),I=new Map,N=Object(p.a)(m);try{var S=function(){var e=n.value;e.groups.forEach((function(n){if(!he(n)){var t=I.get(n);void 0===t?I.set(n,[e]):t.push(e)}}))};for(N.s();!(n=N.n()).done;)S()}catch(M){N.e(M)}finally{N.f()}return Object(E.jsxs)("div",{className:t.filteringBar,children:[Object(E.jsx)(v.a,{children:Object(E.jsxs)(x.a,{children:[Object(E.jsx)(g.a,{children:Object(E.jsx)(w.a,{inputRef:i,placeholder:"Name",onChange:function(e){l(he(e.currentTarget.value)),f(e.currentTarget.value)},className:t.input,inputProps:{"aria-label":"Name"}})}),Object(E.jsx)(y.a,{children:Object(E.jsx)(B,{disabled:s,onSelected:function(e){null!=i.current&&(K(i.current.value,e),le(i.current.value,[""]),i.current.value="",l(!0),f(""))}})})]})}),Object(E.jsx)(h.a,{}),O.length>0?Object(E.jsxs)(v.a,{children:[Object(E.jsx)(me,{}),O.map((function(e){return Object(E.jsx)(fe,{item:e,showInit:!1},e.name)})),Object(E.jsx)(h.a,{})]}):Object(E.jsx)(E.Fragment,{}),Object(E.jsxs)("div",{className:t.historyList,children:[Array.from(I).sort((function(e,n){return e[0].localeCompare(n[0])})).map((function(e){return Object(E.jsxs)(v.a,{children:[Object(E.jsx)(k.a,{disableSticky:!0,children:e[0]}),e[1].map((function(e){return Object(E.jsx)(fe,{item:e,showInit:!0},e.name)}))]})})),C.length>0?Object(E.jsxs)(v.a,{children:[Object(E.jsx)(k.a,{disableSticky:!0,children:"Others"}),C.map((function(e){return Object(E.jsx)(fe,{item:e,showInit:!0},e.name)}))]}):Object(E.jsx)(E.Fragment,{})]})]})}));var pe=Object(f.a)((function(e){return{label:{margin:e.spacing(1)}}}))((function(e){var n=e.classes,t=U((function(){}));return t instanceof T?Object(E.jsxs)(d.a,{variant:"body2",color:"inherit",noWrap:!0,className:n.label,children:["Round ",t.round]}):Object(E.jsx)(E.Fragment,{})})),ve=t(148),xe=t(149),ge=t(140),we=t(141),ye=t(144),ke=t(145),Ce=t(164),Ie=t(147),Ne=t(142),Se=t(143),Ee=t(146),Me=[2,3,4,5];var Be=Object(f.a)((function(e){return{initCell:{width:"auto",align:"right",padding:"checkbox"},titleCell:{width:"100%"},actionCell:{width:"auto"},hpControls:{marginRight:e.spacing(2),alignSelf:"center"}}}))((function(e){var n,t,i=e.classes,a=Object(r.useState)(0),c=Object(o.a)(a,2),s=c[0],l=c[1],u=(n=e.item.id,t=function(){},W[n].handlers.useEvents(t)),j=Object(r.useState)(null),f=Object(o.a)(j,2),h=f[0],m=f[1],O=function(e,n){m(null),function(e,n){for(var t=J.findIndex((function(n){return n===e.id})),r=W[J[t]],i=0;i<n;i++)V(r.entry.name+" ("+(i+2)+")",r.entry.init,t+1+i);r.entry=new A(r.entry.name+" (1)",r.entry.init,r.entry.id,r.entry.active,r.entry.canMoveDown,r.entry.canMoveUp),r.handlers.fire()}(u,Me[n]-1)};return Object(E.jsxs)(ge.a,{selected:u.active,children:[Object(E.jsx)(we.a,{className:i.actionCell,padding:"checkbox",children:Object(E.jsxs)("div",{style:{display:"flex"},children:[Object(E.jsx)(b.a,{onClick:function(e){return function(e){var n=J.findIndex((function(n){return n===e.id}));if(-1===n)throw new Error("Tried to move initiative entry that doesn't exist. ID:"+e.id);0!==n&&Y(n,n-1)}(u)},disabled:!u.canMoveUp,children:Object(E.jsx)(Ne.a,{})}),Object(E.jsx)(b.a,{onClick:function(e){return function(e){var n=J.findIndex((function(n){return n===e.id}));if(-1===n)throw new Error("Tried to move initiative entry that doesn't exist. ID:"+e.id);n!==J.length-1&&Y(n,n+1)}(u)},disabled:!u.canMoveDown,children:Object(E.jsx)(Se.a,{})})]})}),Object(E.jsx)(we.a,{className:i.initCell,children:u.init}),Object(E.jsx)(we.a,{className:i.titleCell,children:Object(E.jsx)(d.a,{variant:"subtitle1",children:u.name})}),Object(E.jsx)(we.a,{className:i.actionCell,padding:"checkbox",children:Object(E.jsxs)("div",{style:{display:"flex"},children:[Object(E.jsx)(ye.a,{item:!0,alignItems:"center",style:{alignSelf:"center"},children:Object(E.jsxs)(ke.a,{color:"primary",variant:"outlined",size:"small",children:[Object(E.jsx)(S.a,{onClick:function(){return l(s-5)},children:"-5"}),Object(E.jsx)(S.a,{onClick:function(){return l(s-1)},children:"-1"})]})}),Object(E.jsx)(ye.a,{item:!0,alignItems:"center",style:{alignSelf:"center"},children:Object(E.jsx)(d.a,{align:"center",style:{width:50},children:s})}),Object(E.jsx)(ye.a,{item:!0,alignItems:"center",className:i.hpControls,children:Object(E.jsxs)(ke.a,{color:"primary",variant:"outlined",size:"small",children:[Object(E.jsx)(S.a,{onClick:function(){return l(s+1)},children:"+1"}),Object(E.jsx)(S.a,{onClick:function(){return l(s+5)},children:"+5"})]})}),Object(E.jsxs)("span",{children:[Object(E.jsx)(b.a,{onClick:function(e){m(e.currentTarget)},className:i.button,"aria-label":"Duplicate Entry",children:Object(E.jsx)(Ee.a,{})}),Object(E.jsx)(Ce.a,{anchorEl:h,open:Boolean(h),onClose:function(){m(null)},children:Me.map((function(e,n){return Object(E.jsx)(Ie.a,{dense:!0,onClick:function(e){return O(0,n)},children:e},e)}))})]}),Object(E.jsx)(b.a,{onClick:function(e){return X(u)},children:Object(E.jsx)(de.a,{})})]})})]})}));var Le=Object(f.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},initCell:{width:"50px",align:"right"}}}))((function(e){var n=e.classes,t=H((function(){}));return Object(E.jsx)("div",{className:n.root,children:Object(E.jsx)(ve.a,{children:Object(E.jsx)(xe.a,{children:t.map((function(e){return Object(E.jsx)(Be,{item:e},e.id)}))})})})})),De=t(150),Te=t(151),ze=t(152);var Ae=Object(f.a)((function(e){return{fabBox:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},fab:{marginLeft:e.spacing(2)}}}))((function(e){var n=e.classes,t=U((function(){})),r=H((function(){})),i=0===r.length;return Object(E.jsxs)("div",{className:n.fabBox,children:[Object(E.jsx)(De.a,{className:n.fab,color:"secondary",disabled:i,onClick:function(){return r.forEach((function(e){return X(e)}))},children:Object(E.jsx)(Te.a,{})}),Object(E.jsx)(De.a,{className:n.fab,color:"primary",disabled:i,onClick:function(){return t instanceof T?function(){if(R instanceof T){var e=W[J[R.activeItem]];R=R.next(J.length);var n=W[J[R.activeItem]];ne(e,!1),ne(n,!0),P(),e.handlers.fire(),n.handlers.fire()}}():function(){if(0!==J.length){R=new T(1,0);var e=Q(0);e.entry=e.entry.updateActive(!0),P(),e.handlers.fire()}}()},children:Object(E.jsx)(ze.a,{})})]})})),Ge=t(165),Re=t(166),Fe=t(162),Pe=t(153),Ue=t(154),qe=t(155),Je=[{icon:Object(E.jsx)(Pe.a,{}),name:"To www.jmreardon.com",url:"https://www.jmreardon.com/projects/quick_initiative/"},{icon:Object(E.jsx)(Ue.a,{}),name:"Get the Code",url:"https://github.com/reardonj/quick-initiative"}];var We=Object(f.a)((function(e){return{speedDial:{position:"absolute",top:e.spacing(.5),right:e.spacing(.5)}}}))((function(e){var n=e.classes,t=i.a.useState(!1),r=Object(o.a)(t,2),a=r[0],c=r[1],s=function(){return c((function(e){return!e}))},l=function(){return c(!0)},u=function(){return c(!1)};return Object(E.jsx)("div",{className:n.root,children:Object(E.jsx)(Ge.a,{ariaLabel:"SpeedDial openIcon example",className:n.speedDial,icon:Object(E.jsx)(Re.a,{icon:Object(E.jsx)(qe.a,{}),openIcon:Object(E.jsx)(qe.a,{})}),onBlur:u,onClick:s,onClose:u,onFocus:l,onMouseEnter:l,onMouseLeave:u,open:a,direction:"down",children:Je.map((function(e){return Object(E.jsx)(Fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(){s(),window.open(e.url,"_blank")}},e.name)}))})})}));var $e=Object(f.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{[e.breakpoints.up("md")]:{width:300,flexShrink:0}},drawerPaper:{width:300},menuButton:{marginRight:e.spacing(2),[e.breakpoints.up("md")]:{display:"none"}},content:{flexGrow:1,padding:e.spacing(2)},input:{margin:e.spacing(1)},toolbar:e.mixins.toolbar,grow:{flexGrow:1}}}))((function(e){var n=e.classes,t=i.a.useState(!1),r=Object(o.a)(t,2),a=r[0],c=r[1];function f(){c(!a)}var p=Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:n.toolbar}),Object(E.jsx)(h.a,{}),Object(E.jsx)(Oe,{})]});return Object(E.jsxs)("div",{className:n.root,children:[Object(E.jsx)(s.a,{}),Object(E.jsx)(u.a,{position:"fixed",className:n.appBar,children:Object(E.jsxs)(j.a,{children:[Object(E.jsx)(b.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:f,className:n.menuButton,children:Object(E.jsx)(O.a,{})}),Object(E.jsx)(d.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Quick Initiative"}),Object(E.jsx)(pe,{}),Object(E.jsx)("div",{className:n.grow}),Object(E.jsx)(We,{})]})}),Object(E.jsxs)("nav",{className:n.drawer,"aria-label":"initiative entry history",children:[Object(E.jsx)(m.a,{mdUp:!0,implementation:"css",children:Object(E.jsx)(l.a,{variant:"temporary",open:a,onClose:f,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0},children:p})}),Object(E.jsx)(m.a,{smDown:!0,implementation:"css",children:Object(E.jsx)(l.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0,children:p})})]}),Object(E.jsxs)("main",{className:n.content,children:[Object(E.jsx)("div",{className:n.toolbar}),Object(E.jsx)(Le,{})]}),Object(E.jsx)(Ae,{})]})}));var _e=function(e){return Object(E.jsx)($e,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(E.jsx)(_e,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[86,1,2]]]);
//# sourceMappingURL=main.1d629121.chunk.js.map