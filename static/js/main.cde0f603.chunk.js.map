{"version":3,"sources":["Components/InitSelector.tsx","Model/CombatState.ts","Model/InitiativeEntries.ts","Core/EventHandlers.tsx","Model/InitModel.ts","Model/HistoryEntries.ts","Model/HistoryModel.ts","Components/HistoryItem.tsx","Core/StringUtils.ts","Components/GroupCreator.tsx","Components/FilteringPanel.tsx","Components/CombatStatusBar.tsx","Components/InitRow.tsx","Components/InitList.tsx","Components/NextInitButton.tsx","Components/InfoDropdown.tsx","Components/MainView.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["inits","withStyles","theme","button","margin","spacing","props","classes","disabled","onSelected","_useState","useState","_useState2","Object","slicedToArray","anchor","setAnchor","react_default","a","createElement","IconButton","onClick","event","currentTarget","className","aria-label","PlaylistAdd","Menu","id","anchorEl","open","Boolean","onClose","map","option","index","MenuItem","dense","key","handleMenuItemClick","CurrentCombatState","round","activeItem","classCallCheck","this","createClass","value","itemsInRound","nextActiveItem","nextRound","NotStarted","InitiativeEntry","name","init","active","canMoveDown","canMoveUp","isActive","totalItems","createEventHandler","state","handlerList","fire","handlers","x","useEvents","currState","setCurrState","handler","y","useEffect","push","i","length","splice","unsubscribe","combatState","fireCombatStateEvents","useCombatStateEvents","nextInitId","initiativeItems","initiativeItemLookup","slice","entry","fireInitEntryEvents","useInitEntryListEvents","initIndexToEntry","addInitEntry","addInitAtIndex","findAddIndex","itemIndex","item","updateSurroundingMovement","removeInitEntry","findIndex","Error","Math","min","newActiveIndex","max","newActiveItem","updateActive","swapInits","index1","index2","originalEntry","firstEvent","updateMovementForIndex","secondEvent","updateMovement","info","HistoryEntry","groups","Set","defaultHistoryEntrySort","b","localeCompare","getHistoryItems","fireHistoryEntryListEvents","useHistoryItemListEvents","historyItems","Map","Array","from","values","addHistoryItem","has","forEach","group","add","set","get","saveToLocalStorage","localStorage","setItem","JSON","stringify","filter","storedItems","getItem","parse","element","input","HistoryModel","ListItem","showInit","delete","ListItemText","primary","ListItemSecondaryAction","Delete","Components_InitSelector","InitModel","Fragment","isNullOrEmpty","str","match","inputEl","useRef","isCreateGroupButtonDisabled","setSelectorDisabled","_useState3","_useState4","nameText","setNameText","Input","inputRef","placeholder","onChange","inputProps","oldName","newName","LibraryAdd","historyList","overflow","height","filteringBar","isSelectorDisabled","filterText","setFilterText","filteredList","useMemo","includes","hasText","groupHasText","sort","pendingGroup","others","size","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","_iterator","Symbol","iterator","next","done","err","return","List","current","Divider","Components_GroupCreator","Components_HistoryItem","ListSubheader","disableSticky","label","Typography","variant","color","noWrap","duplicates","initCell","width","align","padding","titleCell","actionCell","hpControls","marginRight","alignSelf","hp","setHp","times","TableRow","selected","TableCell","style","display","Grid","alignItems","ButtonGroup","Button","e","ArrowUpward","ArrowDownward","FileCopy","root","backgroundColor","palette","background","paper","initItems","Table","TableBody","Components_InitRow","fabBox","position","bottom","right","fab","marginLeft","noInitItems","Fab","DeleteSweep","lastItem","nextItem","firstEntry","PlayArrowOutlined","actions","icon","Home","url","Code","speedDial","top","_React$useState","React","_React$useState2","setOpen","handleClick","prevOpen","handleOpen","handleClose","SpeedDial","ariaLabel","SpeedDialIcon","InfoOutlined","openIcon","onBlur","onFocus","onMouseEnter","onMouseLeave","direction","action","SpeedDialAction","tooltipTitle","window","appBar","zIndex","drawer","flexShrink","drawerPaper","content","flexGrow","toolbar","mixins","grow","CssBaseline","AppBar","Toolbar","Components_CombatStatusBar","Components_InfoDropdown","Drawer","Components_FilteringPanel","Components_InitList","Components_NextInitButton","App","Components_MainView","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cde0f603.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { PlaylistAdd } from '@material-ui/icons';\nimport { withStyles, IconButton, Menu, MenuItem } from '@material-ui/core';\ntype MouseEvt = React.MouseEvent<HTMLElement, MouseEvent>;\n\nconst styles = (theme: any) => ({\n    button: {\n      margin: theme.spacing(1),\n    }\n});\n\nconst inits = [25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0, -1, -2];\n\nfunction InitSelector(props: {classes: any, disabled: boolean, onSelected: ((x: number) => void)}) {\n    const { classes, disabled, onSelected } = props;\n\n    const [anchor, setAnchor] = useState<HTMLElement|null>(null);\n\n    const handleClickButton = (event: MouseEvt) => {\n        setAnchor(event.currentTarget);\n    };\n  \n    const handleMenuItemClick = (event: MouseEvt, index: number) => {\n        setAnchor(null);\n        onSelected(inits[index]);\n    };\n  \n    const handleClose = () => {\n        setAnchor(null);\n    };\n\n    return (\n        <span>\n            <IconButton \n                onClick={handleClickButton}\n                className={classes.button} \n                disabled={disabled}\n                aria-label=\"Add to Initiative\"\n            >\n                <PlaylistAdd/>\n            </IconButton>\n            <Menu                \n                id=\"lock-menu\"\n                anchorEl={anchor}\n                open={Boolean(anchor)}\n                onClose={handleClose}\n            >\n            {inits.map((option, index) => (\n                <MenuItem\n                    dense={true}\n                    key={option}\n                    onClick={event => handleMenuItemClick(event, index)}\n                >\n                {option}\n                </MenuItem>\n            ))}\n            </Menu>\n        </span>)\n}\n\nexport default withStyles(styles)(InitSelector);","export class CurrentCombatState {\n    /*\n        Creates the current combat state. Active items are zero indexed.\n    */\n    constructor(readonly round: number, readonly activeItem: number) {}\n\n    next(itemsInRound: number) {\n        const nextActiveItem = (this.activeItem + 1) % itemsInRound;\n        var nextRound = this.round;\n        if(nextActiveItem <= this.activeItem) {\n            nextRound++;\n        }\n        return new CurrentCombatState(nextRound, nextActiveItem);\n    }\n}\n\nexport const NotStarted : CombatState = 'NotStarted';\nexport type CombatState = 'NotStarted' | CurrentCombatState","export class InitiativeEntry {\n    constructor(\n        readonly name: string,\n        readonly init: number,\n        readonly id: number,\n        readonly active: boolean,\n        readonly canMoveDown: boolean,\n        readonly canMoveUp: boolean) { }\n\n    updateActive(isActive: boolean): InitiativeEntry {\n        return new InitiativeEntry(this.name, this.init, this.id, isActive, this.canMoveDown, this.canMoveUp);\n    }\n\n    updateMovement(index: number, totalItems: number): InitiativeEntry {\n        const canMoveDown = index < totalItems - 1;\n        const canMoveUp = index > 0;\n        return new InitiativeEntry(this.name, this.init, this.id, this.active, canMoveDown, canMoveUp);\n    }\n}","import { useEffect, useState } from \"react\";\n\nexport type Handler<T> = (x: T) => void;\nexport interface EventDefinition<T> {\n    fire: () => void,\n    useEvents: (x: Handler<T>) => T\n};\n\nexport function createEventHandler<T>(state: () => T): EventDefinition<T> {\n    let handlerList: Handler<T>[] = [];\n    return {\n        fire: () => fire(handlerList, state()),\n        useEvents: (x: Handler<T>) => {\n            const [currState, setCurrState] = useState(state);\n            const handler = (y: T) => {\n                setCurrState(y);\n                x(y);\n            }\n            useEffect(() => {\n                handlerList.push(handler);\n                return () => unsubscribe(handlerList, handler);\n            });\n            return currState;\n        }\n    };\n}\n\nfunction fire<T>(handlers: ((x: T) => void)[], state: T) {\n    handlers.map(x => x(state));\n}\n\nfunction unsubscribe<T>(handlers: T[], handler: T) {\n    for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n            handlers.splice(i, 1);\n        }\n    }\n}","\nimport { CurrentCombatState, NotStarted, CombatState } from \"./CombatState\";\nimport { InitiativeEntry } from \"./InitiativeEntries\";\nimport { createEventHandler, Handler, EventDefinition } from \"../Core/EventHandlers\";\n\nexport interface InitiativeInfo { entry: InitiativeEntry, handlers: EventDefinition<InitiativeEntry> };\nexport type CombatStateHandler = Handler<CombatState>;\nexport type InitEntryHandler = Handler<InitiativeEntry[]>\n\nexport {\n    // eslint-disable-next-line\n    useCombatStateEvents,\n    startCombat,\n    nextInit,\n    addInitEntry,\n    duplicateInitEntry,\n    removeInitEntry,\n    moveInitEntryDown,\n    moveInitEntryUp,\n    getInitItems,\n    // eslint-disable-next-line\n    useInitEntryListEvents,\n    // eslint-disable-next-line\n    useInitEntryEvents\n}\n\n/* Combat State */\n\nlet combatState = NotStarted;\nconst { fire: fireCombatStateEvents, useEvents: useCombatStateEvents } = createEventHandler(() => combatState);\n\nfunction startCombat() {\n    if (initiativeItems.length === 0) {\n        return;\n    }\n    combatState = new CurrentCombatState(1, 0);\n    const firstEntry = initIndexToEntry(0);\n    firstEntry.entry = firstEntry.entry.updateActive(true);\n    fireCombatStateEvents();\n    firstEntry.handlers.fire();\n}\n\n/* Initiative Items */\n\nlet nextInitId = 0;\nconst initiativeItems: number[] = [];\nconst initiativeItemLookup: { [id: number]: InitiativeInfo } = {};\nconst { fire: fireInitEntryEvents, useEvents: useInitEntryListEvents } = createEventHandler(getInitItems);\n\nfunction useInitEntryEvents(id: number, handler: Handler<InitiativeEntry>) {\n    return initiativeItemLookup[id].handlers.useEvents(handler);\n}\n\nfunction getInitItems(): InitiativeEntry[] {\n    return initiativeItems.slice().map(x => initiativeItemLookup[x].entry);\n}\n\nfunction initIndexToEntry(i: number): InitiativeInfo {\n    return initiativeItemLookup[initiativeItems[i]];\n}\n\nfunction addInitEntry(name: string, init: number) {\n    let itemIndex = findAddIndex(init);\n    addInitAtIndex(name, init, itemIndex);\n}\n\nfunction addInitAtIndex(name: string, init: number, itemIndex: number) {\n    const id = nextInitId++;\n    let item = new InitiativeEntry(name, init, id, false, false, false)\n    initiativeItems.splice(itemIndex, 0, item.id);\n\n    // If we added an item above the current item in combat, move the activeItem down one.\n    if (combatState instanceof CurrentCombatState && combatState.activeItem >= itemIndex) {\n        combatState = new CurrentCombatState(combatState.round, combatState.activeItem + 1)\n        fireCombatStateEvents();\n    }\n    initiativeItemLookup[item.id] = {\n        entry: item,\n        handlers: createEventHandler(() => initiativeItemLookup[item.id].entry)\n    };\n    updateSurroundingMovement(itemIndex);\n    fireInitEntryEvents();\n}\n\nfunction findAddIndex(init: number): number {\n    for (var i = 0; i < initiativeItems.length; i++) {\n        if (initIndexToEntry(i).entry.init <= init) {\n            return i;\n        }\n    }\n\n    return initiativeItems.length;\n}\n\nfunction duplicateInitEntry(item: InitiativeEntry, times: number) {\n    const index = initiativeItems.findIndex(x => x === item.id)\n    const info = initiativeItemLookup[initiativeItems[index]];\n    for (let i = 0; i < times; i++) {\n        let name = info.entry.name + \" (\" + (i + 2) + \")\";\n        addInitAtIndex(name, info.entry.init, index + 1 + i);\n    }\n    info.entry = new InitiativeEntry(info.entry.name + \" (\" + 1 + \")\",\n        info.entry.init, info.entry.id, info.entry.active, info.entry.canMoveDown, info.entry.canMoveUp);\n    info.handlers.fire();\n}\n\nfunction removeInitEntry(entry: InitiativeEntry) {\n    const index = initiativeItems.findIndex(x => x === entry.id);\n    if (index === -1) {\n        throw new Error(\"Tried to remove initiative entry that doesn't exist. ID:\" + entry.id);\n    }\n    initiativeItems.splice(index, 1);\n    delete initiativeItemLookup[entry.id];\n    fireInitEntryEvents();\n    updateSurroundingMovement(Math.min(index, initiativeItems.length - 1));\n\n    if (combatState instanceof CurrentCombatState) {\n        if (initiativeItems.length === 0) {\n            combatState = NotStarted;\n        } else if (index >= combatState.activeItem) {\n            // The active index has to be updated.\n            const newActiveIndex = Math.max(0, combatState.activeItem - 1);\n            combatState = new CurrentCombatState(combatState.round, newActiveIndex);\n\n            // And the actual active item if we removed the current selection.\n            if (entry.active) {\n                const newActiveItem = initIndexToEntry(newActiveIndex);\n                updateActive(newActiveItem, true)\n                newActiveItem.handlers.fire();\n            }\n        }\n        fireCombatStateEvents();\n    }\n}\n\nfunction moveInitEntryDown(entry: InitiativeEntry) {\n    const index = initiativeItems.findIndex(x => x === entry.id);\n    if (index === -1) {\n        throw new Error(\"Tried to move initiative entry that doesn't exist. ID:\" + entry.id);\n    }\n\n    if (index === initiativeItems.length - 1) {\n        return;\n    }\n\n    swapInits(index, index + 1);\n}\n\nfunction moveInitEntryUp(entry: InitiativeEntry) {\n    const index = initiativeItems.findIndex(x => x === entry.id);\n    if (index === -1) {\n        throw new Error(\"Tried to move initiative entry that doesn't exist. ID:\" + entry.id);\n    }\n    if (index === 0) {\n        return;\n    }\n\n    swapInits(index, index - 1);\n}\n\nfunction swapInits(index1: number, index2: number) {\n    var originalEntry = initiativeItems[index1];\n    initiativeItems[index1] = initiativeItems[index2];\n    initiativeItems[index2] = originalEntry;\n\n    const firstEvent = updateMovementForIndex(index1);\n    const secondEvent = updateMovementForIndex(index2);\n\n    if (combatState instanceof CurrentCombatState) {\n        if (index1 === combatState.activeItem) {\n            combatState = new CurrentCombatState(combatState.round, index2);\n            fireCombatStateEvents();\n        } else if (index2 === combatState.activeItem) {\n            combatState = new CurrentCombatState(combatState.round, index1);\n            fireCombatStateEvents();\n        }\n    }\n    fireInitEntryEvents();\n    firstEvent();\n    secondEvent();\n}\n\nfunction updateMovementForIndex(index: number): (() => void) {\n    const entry = initIndexToEntry(index);\n    entry.entry = entry.entry.updateMovement(index, initiativeItems.length);\n    return entry.handlers.fire;\n}\n\nfunction updateSurroundingMovement(index: number) {\n    if (index >= initiativeItems.length || index < 0) {\n        return;\n    }\n\n    updateMovementForIndex(index)();\n    if (index > 0) {\n        updateMovementForIndex(index - 1)();\n    }\n    if (index < initiativeItems.length - 1) {\n        updateMovementForIndex(index + 1)();\n    }\n}\n\nfunction nextInit() {\n    if (!(combatState instanceof CurrentCombatState)) {\n        return;\n    }\n    const lastItem = initiativeItemLookup[initiativeItems[combatState.activeItem]];\n    combatState = combatState.next(initiativeItems.length);\n    const nextItem = initiativeItemLookup[initiativeItems[combatState.activeItem]];\n\n    updateActive(lastItem, false);\n    updateActive(nextItem, true);\n\n    fireCombatStateEvents();\n    lastItem.handlers.fire();\n    nextItem.handlers.fire();\n}\n\nfunction updateActive(info: InitiativeInfo, isActive: boolean) {\n    initiativeItemLookup[info.entry.id].entry = info.entry.updateActive(isActive);\n}\n","export class HistoryEntry {\n\n    groups: Set<string>;\n\n    constructor(readonly name: string) {\n        this.groups = new Set();\n    }\n}\n\nexport function defaultHistoryEntrySort(a: HistoryEntry, b: HistoryEntry): number {\n    return a.name.localeCompare(b.name);\n}","import { createEventHandler, EventDefinition, Handler } from \"../Core/EventHandlers\";\nimport { HistoryEntry } from \"./HistoryEntries\";\n\nconst {\n    fire: fireHistoryEntryListEvents,\n    useEvents: useHistoryItemListEvents,\n} = createEventHandler(getHistoryItems);\n\nexport {\n    useHistoryItemListEvents,\n    useHistoryItemEvents,\n    getHistoryItems,\n    addHistoryItem,\n    addHistoryItemToGroup,\n    removeHistoryItem,\n    removeHistoryItemFromGroup,\n    renameGroup,\n    saveToLocalStorage\n}\n\nconst historyItems: Map<string, { entry: HistoryEntry, handlers: EventDefinition<HistoryEntry> }> = new Map();\n\nfunction getHistoryItems(): HistoryEntry[] {\n    return Array.from(historyItems.values(), x => x.entry);\n}\n\nfunction useHistoryItemEvents(name: string, handler: Handler<HistoryEntry>) {\n    var item = historyItems.get(name);\n    if (!item) {\n        throw new Error(\"Tried to get events for non-existant entry.\");\n    }\n    return item.handlers.useEvents(handler);\n}\n\nfunction addHistoryItem(name: string, groups: string[]) {\n    if (historyItems.has(name)) {\n        return;\n    }\n\n    const entry = new HistoryEntry(name);\n    groups.forEach(group => {\n        entry.groups.add(group);\n    });\n\n    historyItems.set(name,\n        {\n            entry: entry,\n            handlers: createEventHandler(() => {\n                var item = historyItems.get(name);\n                if (item) {\n                    return item.entry;\n                }\n                throw new Error(\"Missing history item.\");\n            })\n        });\n    fireHistoryEntryListEvents();\n}\n\nfunction removeHistoryItem(item: HistoryEntry) {\n    if(historyItems.delete(item.name)) {\n        fireHistoryEntryListEvents();\n    }\n}\n\nfunction addHistoryItemToGroup(item: HistoryEntry, group: string) {\n    const entry = historyItems.get(item.name);\n    if(!entry) {\n        throw new Error(\"Missing history item.\")\n    }\n\n    entry.entry.groups.add(group);\n    entry.handlers.fire();\n    fireHistoryEntryListEvents();\n}\n\nfunction removeHistoryItemFromGroup(item: HistoryEntry, group: string) {\n    const entry = historyItems.get(item.name);\n    if(!entry) {\n        throw new Error(\"Missing history item.\")\n    }\n\n    if(entry.entry.groups.delete(group)) {\n        entry.handlers.fire();\n        fireHistoryEntryListEvents();\n    }\n}\n\nfunction renameGroup(oldName: string, newName: string) {\n    historyItems.forEach(item => {\n        if(item.entry.groups.delete(oldName)) {\n            item.entry.groups.add(newName);\n            item.handlers.fire();\n        }\n    });\n    fireHistoryEntryListEvents();\n}\n\nfunction saveToLocalStorage() {\n    localStorage.setItem(\"historyItems\",\n        JSON.stringify(getHistoryItems().map((x: HistoryEntry): object =>\n            ({ name: x.name, groups: Array.from(x.groups).filter(x => x.length > 0)}))));\n}\n\n\nconst storedItems = localStorage.getItem(\"historyItems\");\nif (storedItems) {\n    const storedJson = JSON.parse(storedItems);\n    storedJson.forEach((element: any) => {\n        addHistoryItem(element.name, element.groups);\n    });\n}","import React from 'react';\nimport { withStyles, ListItem, ListItemText, ListItemSecondaryAction, IconButton } from '@material-ui/core';\nimport { HistoryEntry } from '../Model/HistoryEntries';\nimport InitSelector from './InitSelector';\nimport * as InitModel from '../Model/InitModel';\nimport * as HistoryModel from '../Model/HistoryModel';\nimport { Delete } from '@material-ui/icons';\n\nconst styles = (theme: any) => ({\n    input: {\n        margin: theme.spacing(1),\n    }\n});\n\nfunction HistoryItem(props: { classes: any, item: HistoryEntry, showInit: boolean }) {\n    const item = HistoryModel.useHistoryItemEvents(props.item.name, () => { });\n\n    const handleInitSelected = (init: number) => {\n        InitModel.addInitEntry(item.name, init);\n    }\n\n    const handleClick = () => {\n        if(item.groups.has(\"\") && !props.showInit) {\n            HistoryModel.removeHistoryItemFromGroup(item, \"\");\n        } else {\n            HistoryModel.addHistoryItemToGroup(item, \"\");\n        }\n    }\n\n    return (\n        <ListItem dense button onClick={handleClick}>\n            <ListItemText primary={item.name} />\n            {\n                props.showInit ? \n                    <ListItemSecondaryAction>\n                        <IconButton onClick={() => HistoryModel.removeHistoryItem(item)}>\n                            <Delete />\n                        </IconButton>\n                        <InitSelector disabled={false} onSelected={handleInitSelected} />\n                    </ListItemSecondaryAction>\n                : \n                    <></>\n            }\n        </ListItem>\n    )\n}\n\nexport default withStyles(styles)(HistoryItem);","\nexport function isNullOrEmpty(str: string | null) {\n    return str === null || str.match(/^ *$/) !== null;\n}","import React, { useRef, useState } from 'react';\nimport { withStyles, ListItem, ListItemText, ListItemSecondaryAction, Input, IconButton } from '@material-ui/core';\nimport * as HistoryModel from '../Model/HistoryModel';\nimport { isNullOrEmpty } from '../Core/StringUtils';\nimport { LibraryAdd } from '@material-ui/icons';\n\nconst styles = (theme: any) => ({\n    input: {\n        margin: theme.spacing(1),\n    }\n});\n\nfunction GroupCreator(props: { classes: any }) {\n    const { classes } = props;\n\n    const inputEl = useRef<HTMLInputElement>(null);\n    const [isCreateGroupButtonDisabled, setSelectorDisabled] = useState(true);\n    const [nameText, setNameText] = useState(\"\");\n\n    const handleTextChange = (event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        setSelectorDisabled(isNullOrEmpty(event.currentTarget.value));\n        setNameText(event.currentTarget.value);\n    };\n\n    const createGroup = () => {\n        HistoryModel.renameGroup(\"\", nameText);\n    }\n    \n    return (\n        <ListItem>\n            <ListItemText>\n                <Input\n                    inputRef={inputEl}\n                    placeholder=\"Group Name\"\n                    onChange={handleTextChange}\n                    inputProps={{\n                        'aria-label': 'Group Name',\n                    }} />\n            </ListItemText>\n            <ListItemSecondaryAction>\n                <IconButton className={classes.input} \n                            disabled={isCreateGroupButtonDisabled} onClick={createGroup}>\n                    <LibraryAdd />\n                </IconButton>\n            </ListItemSecondaryAction>\n        </ListItem>\n    )\n}\n\nexport default withStyles(styles)(GroupCreator);","import React, { useState, useRef, useMemo } from 'react';\nimport { Input, withStyles, List, ListItem, ListItemText, ListItemSecondaryAction, ListSubheader, Divider } from \"@material-ui/core\";\nimport InitSelector from \"./InitSelector\";\nimport * as InitModel from '../Model/InitModel';\nimport * as HistoryModel from '../Model/HistoryModel';\nimport { defaultHistoryEntrySort, HistoryEntry } from '../Model/HistoryEntries';\nimport HistoryItem from './HistoryItem';\nimport GroupCreator from './GroupCreator';\nimport { isNullOrEmpty } from '../Core/StringUtils';\n\nconst styles = () => ({\n    input: {\n    },\n    historyList: {\n        overflow: 'scroll',\n        height: 'calc(100% - 70px)'\n    },\n    filteringBar: {\n        overflow: 'hidden'\n    }\n});\n\nfunction groupHasText(item: HistoryEntry, filterText: string): boolean {\n    let hasText = false;\n    item.groups.forEach(x => {\n        if(x.includes(filterText)) {\n            hasText = true;\n        }\n    });\n\n    return hasText;\n}\n\nfunction FilteringPanel(props: { classes: any }) {\n    const { classes } = props;\n\n    const inputEl = useRef<HTMLInputElement>(null);\n    const [isSelectorDisabled, setSelectorDisabled] = useState(true);\n    const [filterText, setFilterText] = useState(\"\");\n\n    const historyList = HistoryModel.useHistoryItemListEvents(HistoryModel.saveToLocalStorage);\n\n    const filteredList = useMemo(\n        () => historyList.filter(x => x.name.includes(filterText) || \n                                      groupHasText(x, filterText)\n                                ).sort(defaultHistoryEntrySort),\n        [historyList, filterText]);\n\n    const pendingGroup = historyList.filter(x => x.groups.has(\"\"));\n    const others = filteredList.filter(x => x.groups.size === 0);\n    const groups = new Map<string, HistoryEntry[]>();\n    for(const item of filteredList) {\n        item.groups.forEach(group => {\n            if(isNullOrEmpty(group)) {\n                return;\n            }\n            if (!groups.has(group)) {\n                groups.set(group, []);\n            }\n            const toAdd = groups.get(group) as HistoryEntry[];\n            toAdd.push(item);\n        });\n    }\n\n\n    const handleTextChange = (event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        setSelectorDisabled(isNullOrEmpty(event.currentTarget.value));\n        setFilterText(event.currentTarget.value);\n    };\n    const handleInitSelected = (init: number) => {\n        if (inputEl.current == null) {\n            return;\n        }\n        InitModel.addInitEntry(inputEl.current.value, init)\n        HistoryModel.addHistoryItem(inputEl.current.value, [\"\"]);\n        inputEl.current.value = \"\";\n        setSelectorDisabled(true);\n        setFilterText(\"\");\n    };\n\n    return (\n        <div className={classes.filteringBar}>\n            <List>\n                <ListItem>\n                    <ListItemText>\n                        <Input\n                            inputRef={inputEl}\n                            placeholder=\"Name\"\n                            onChange={handleTextChange}\n                            className={classes.input}\n                            inputProps={{\n                                'aria-label': 'Name',\n                            }} />\n                    </ListItemText>\n                    <ListItemSecondaryAction>\n                        <InitSelector disabled={isSelectorDisabled} onSelected={handleInitSelected} />\n                    </ListItemSecondaryAction>\n                </ListItem>\n            </List>\n            <Divider />\n            {\n                pendingGroup.length > 0 ? (\n                    <List>\n                        <GroupCreator ></GroupCreator>  \n                        {pendingGroup.map(\n                            x => <HistoryItem key={x.name} item={x} showInit={false} />)\n                        }\n                        <Divider />\n                    </List>\n                ) :\n                    <></>\n            }\n            <div className={classes.historyList}>\n                {\n                    Array.from(groups).sort((a,b)=> a[0].localeCompare(b[0])).map(entry => \n                        <List>\n                            <ListSubheader disableSticky={true}>{entry[0]}</ListSubheader>\n                            {(entry[1] as HistoryEntry[]).map(\n                                x => <HistoryItem key={x.name} item={x} showInit={true} />)\n                            }\n                        </List>)\n                }\n                {\n                    others.length > 0 ? (\n                        <List>\n                            <ListSubheader disableSticky={true}>Others</ListSubheader>\n                            {others.map(x => <HistoryItem key={x.name} item={x} showInit={true} />)}\n                        </List>\n                    ) :\n                        <></>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(FilteringPanel);","import React from \"react\";\nimport * as InitModel from \"../Model/InitModel\";\nimport { CurrentCombatState } from \"../Model/CombatState\";\nimport { withStyles, Typography } from \"@material-ui/core\";\n\nconst styles = (theme: any) => ({\n    label: {\n      margin: theme.spacing(1),\n    }\n  });\n\nfunction CombatStatusBar(props: any) {\n    const { classes } = props;\n\n    const combatState = InitModel.useCombatStateEvents(() => {});\n\n    if (combatState instanceof CurrentCombatState) {\n        return (\n            <Typography variant=\"body2\" color=\"inherit\" noWrap className={classes.label}>\n            Round {combatState.round}\n            </Typography>\n        );\n    } else {\n        return <></>;\n    }\n\n}\n\nexport default withStyles(styles)(CombatStatusBar);","import React, { useState } from \"react\";\nimport { TableRow, TableCell, withStyles, IconButton, Menu, MenuItem, Typography, ButtonGroup, Button, Grid } from \"@material-ui/core\";\nimport { InitiativeEntry } from \"../Model/InitiativeEntries\";\nimport * as InitModel from \"../Model/InitModel\";\nimport { Delete, ArrowUpward, FileCopy, ArrowDownward } from \"@material-ui/icons\";\n\ntype MouseEvt = React.MouseEvent<HTMLElement, MouseEvent>;\n\nconst styles = (theme: any) => ({\n    initCell: {\n        width: 'auto',\n        align: 'right',\n        padding: 'checkbox'\n    },\n    titleCell: {\n        width: '100%'\n    },\n    actionCell: {\n        width: 'atuo'\n    },\n    hpControls: {\n        marginRight: theme.spacing(2),\n        alignSelf: 'center'\n    }\n});\n\nconst duplicates = [2, 3, 4, 5];\n\nfunction InitRow(props: { classes: any, item: InitiativeEntry }) {\n    const { classes } = props;\n    const [hp, setHp] = useState(0);\n    const item = InitModel.useInitEntryEvents(props.item.id, () => {});\n    const [anchor, setAnchor] = useState<HTMLElement | null>(null);\n\n    const handleClickButton = (event: MouseEvt) => {\n        setAnchor(event.currentTarget);\n    };\n\n    const handleMenuItemClick = (event: MouseEvt, index: number) => {\n        setAnchor(null);\n        InitModel.duplicateInitEntry(item, duplicates[index]-1);\n    };\n\n    const handleClose = () => {\n        setAnchor(null);\n    };\n\n\n    return (\n        <TableRow selected={item.active}>\n            <TableCell className={classes.initCell}>{item.init}</TableCell>\n            <TableCell className={classes.titleCell}>\n                <Typography variant=\"subtitle1\">{item.name}</Typography>\n            </TableCell>\n            <TableCell className={classes.actionCell} padding=\"checkbox\">\n                <div style={{ display: 'flex' }}>\n                    <Grid item \n                          alignItems='center'\n                          style={{ alignSelf: 'center'}}>\n                        <ButtonGroup color=\"primary\" variant='contained' size='small'>\n                            <Button onClick={() => setHp(hp - 10)}>-10</Button>\n                            <Button onClick={() => setHp(hp - 5)}>-5</Button>\n                            <Button onClick={() => setHp(hp - 1)}>-1</Button>\n                        </ButtonGroup>\n                    </Grid>\n                    <Grid item\n                          alignItems='center' \n                          style={{ alignSelf: 'center'}}>                        \n                        <Typography align='center' style={{width: 50}}>{hp}</Typography>\n                    </Grid>\n                    <Grid item\n                          alignItems='center' \n                          className={classes.hpControls}>\n                        <ButtonGroup color=\"primary\" variant='contained' size='small'>\n                            <Button onClick={() => setHp(hp + 1)}>+1</Button>\n                            <Button onClick={() => setHp(hp + 5)}>+5</Button>\n                            <Button onClick={() => setHp(hp + 10)}>+10</Button>\n                        </ButtonGroup>\n                    </Grid>\n                    <IconButton onClick={e => InitModel.moveInitEntryUp(item)} disabled={!item.canMoveUp}>\n                        <ArrowUpward />\n                    </IconButton>\n                    <IconButton onClick={e => InitModel.moveInitEntryDown(item)} disabled={!item.canMoveDown}>\n                        <ArrowDownward />\n                    </IconButton>\n                    <span>\n                        <IconButton\n                            onClick={handleClickButton}\n                            className={classes.button}\n                            aria-label=\"Duplicate Entry\"\n                        >\n                            <FileCopy />\n                        </IconButton>\n                        <Menu\n                            anchorEl={anchor}\n                            open={Boolean(anchor)}\n                            onClose={handleClose}\n                        >\n                            {duplicates.map((option, index) => (\n                                <MenuItem\n                                    dense={true}\n                                    key={option}\n                                    onClick={event => handleMenuItemClick(event, index)}\n                                >\n                                    {option}\n                                </MenuItem>\n                            ))}\n                        </Menu>\n                    </span>\n                    <IconButton onClick={e => InitModel.removeInitEntry(item)}>\n                        <Delete />\n                    </IconButton>\n                </div>\n            </TableCell>\n        </TableRow>\n    );\n}\n\nexport default withStyles(styles)(InitRow);","import React from \"react\";\nimport { withStyles, Table, TableBody } from \"@material-ui/core\";\nimport * as InitModel from \"../Model/InitModel\";\nimport InitRow from \"./InitRow\";\n\nconst styles = (theme: any) => ({\n    root: {\n        width: '100%',\n        backgroundColor: theme.palette.background.paper,\n    },\n    initCell: {\n        width: '50px',\n        align: 'right'\n    }\n});\n\nfunction InitList(props: any) {\n    const { classes } = props;\n    const initItems = InitModel.useInitEntryListEvents(() => {});\n\n    return (\n        <div className={classes.root}>\n            <Table>\n                <TableBody>\n                    {initItems.map((item) =>\n                        (<InitRow\n                            item={item}\n                            key={item.id}/>\n                        ))}\n                </TableBody>\n            </Table>\n        </div>\n    );\n}\n\nexport default withStyles(styles)(InitList);","import React from \"react\";\nimport * as InitModel from \"../Model/InitModel\";\nimport { CurrentCombatState } from \"../Model/CombatState\";\nimport { withStyles, Fab } from \"@material-ui/core\";\nimport { PlayArrowOutlined, DeleteSweep } from \"@material-ui/icons\";\n\nconst styles = (theme: any) => ({\n    fabBox: {\n        position: 'absolute' as 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2)\n    },\n    fab: {\n        marginLeft: theme.spacing(2)\n      }\n  });\n\nfunction NextInitButton(props: any) { \n    const { classes } = props;\n    const combatState = InitModel.useCombatStateEvents(() => {});\n    const initItems = InitModel.useInitEntryListEvents(() => {});\n    const noInitItems = initItems.length === 0;\n    \n    return (\n        <div className={classes.fabBox}>\n            <Fab className={classes.fab}\n                color='secondary'\n                disabled={noInitItems}\n                onClick={() => initItems.forEach(x => InitModel.removeInitEntry(x))}>\n                <DeleteSweep />\n            </Fab>\n            <Fab className={classes.fab} \n                color='primary'\n                disabled={noInitItems}\n                onClick={() => combatState instanceof CurrentCombatState ? \n                                    InitModel.nextInit() : \n                                    InitModel.startCombat()}>\n                <PlayArrowOutlined />\n            </Fab>\n        </div>\n    );\n    \n\n}\n\nexport default withStyles(styles)(NextInitButton);","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\nimport { SpeedDial, SpeedDialIcon, SpeedDialAction } from \"@material-ui/lab\";\nimport { Home, InfoOutlined, Code } from \"@material-ui/icons\";\n\nconst styles = (theme: any) => ({\n    speedDial: {\n        position: 'absolute' as 'absolute',\n        top: theme.spacing(0.5),\n        right: theme.spacing(0.5),\n      }\n});\n\nconst actions = [\n    { icon: <Home />, \n      name: 'To www.jmreardon.com', \n      url: \"https://www.jmreardon.com\"\n    },\n    { icon: <Code />, \n      name: 'Get the Code', \n      url: \"https://github.com/reardonj/quick-initiative\"\n    }\n  ];\n\nfunction InfoDropdown(props: any) {\n    const { classes } = props;\n    const [open, setOpen] = React.useState(false);\n\n    const handleClick = () => setOpen(prevOpen => !prevOpen);\n    const handleOpen = () => setOpen(true);\n    const handleClose = () => setOpen(false);\n\n    return (\n        <div className={classes.root}>\n        <SpeedDial\n            ariaLabel=\"SpeedDial openIcon example\"\n            className={classes.speedDial}\n            icon={<SpeedDialIcon icon={<InfoOutlined />} openIcon={<InfoOutlined />} />}\n            onBlur={handleClose}\n            onClick={handleClick}\n            onClose={handleClose}\n            onFocus={handleOpen}\n            onMouseEnter={handleOpen}\n            onMouseLeave={handleClose}\n            open={open}\n            direction='down'\n        >\n            {actions.map(action => (\n            <SpeedDialAction\n                key={action.name}\n                icon={action.icon}\n                tooltipTitle={action.name}\n                onClick={() => {\n                    handleClick();\n                    window.open(action.url, '_blank');\n                }}\n            />\n            ))}\n        </SpeedDial>\n        </div>\n    );\n}\n\nexport default withStyles(styles)(InfoDropdown);","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport FilteringPanel from './FilteringPanel';\nimport CombatStatusBar from './CombatStatusBar';\nimport InitList from './InitList';\nimport NextInitButton from './NextInitButton';\nimport InfoDropdown from './InfoDropdown';\n\nconst drawerWidth = 300;\n\nconst styles = (theme: any) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(2),\n    marginLeft: drawerWidth\n  },\n  input: {\n    margin: theme.spacing(1),\n  },\n  toolbar: theme.mixins.toolbar,\n  grow: {\n    flexGrow: 1,\n  },\n});\n\nfunction MainView(props: any) {\n  const { classes } = props;\n\n  return (\n    <div className=\"App\">\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\n            Quick Initiative\n          </Typography>\n          <CombatStatusBar />\n          <div className={classes.grow} />\n          <InfoDropdown />\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        anchor=\"left\"\n      >\n        <div className={classes.toolbar} />\n        <FilteringPanel />\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <InitList />\n      </main>\n      <NextInitButton />\n    </div>\n  );\n}\n\nexport default withStyles(styles)(MainView);","import React from 'react';\nimport './App.css';\nimport MainView from './Components/MainView';\n\nfunction App(props: any) {\n\n  return (\n    <div className=\"App\">\n      <MainView></MainView>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}