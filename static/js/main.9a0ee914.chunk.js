(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{59:function(e,n,t){e.exports=t(75)},65:function(e,n,t){},66:function(e,n,t){},75:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(8),c=t.n(i),l=(t(65),t(66),t(136)),o=t(134),u=t(129),s=t(130),m=t(41),f=t(4),d=t(15),v=t(108),h=t(77),E=t(110),p=t(133),g=t(111),b=t(114),y=t(115),w=t(107),k=t(106),O=t(135),I=t(109),j=[25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0,-1,-2];var C=Object(f.a)(function(e){return{button:{margin:e.spacing(1)}}})(function(e){var n=e.classes,t=e.disabled,i=e.onSelected,c=Object(a.useState)(null),l=Object(d.a)(c,2),o=l[0],u=l[1];return r.a.createElement("span",null,r.a.createElement(k.a,{onClick:function(e){u(e.currentTarget)},className:n.button,disabled:t,"aria-label":"Add to Initiative"},r.a.createElement(w.a,null)),r.a.createElement(O.a,{id:"lock-menu",anchorEl:o,open:Boolean(o),onClose:function(){u(null)}},j.map(function(e,n){return r.a.createElement(I.a,{dense:!0,key:e,onClick:function(e){return function(e,n){u(null),i(j[n])}(0,n)}},e)})))}),N=t(28),x=t(38),S=function(){function e(n,t){Object(N.a)(this,e),this.round=n,this.activeItem=t}return Object(x.a)(e,[{key:"next",value:function(n){var t=(this.activeItem+1)%n,a=this.round;return t<=this.activeItem&&a++,new e(a,t)}}]),e}(),M="NotStarted",B=function(){function e(n,t,a,r,i,c){Object(N.a)(this,e),this.name=n,this.init=t,this.id=a,this.active=r,this.canMoveDown=i,this.canMoveUp=c}return Object(x.a)(e,[{key:"updateActive",value:function(n){return new e(this.name,this.init,this.id,n,this.canMoveDown,this.canMoveUp)}},{key:"updateMovement",value:function(n,t){var a=n<t-1,r=n>0;return new e(this.name,this.init,this.id,this.active,a,r)}}]),e}();function T(e){var n=[];return{fire:function(){return function(e,n){e.map(function(e){return e(n)})}(n,e())},useEvents:function(t){var r=Object(a.useState)(e),i=Object(d.a)(r,2),c=i[0],l=i[1],o=function(e){l(e),t(e)};return Object(a.useEffect)(function(){return n.push(o),function(){return function(e,n){for(var t=0;t<e.length;t++)e[t]===n&&e.splice(t,1)}(n,o)}}),c}}}var A=M,D=T(function(){return A}),R=D.fire,z=D.useEvents;var F=0,G=[],J={},L=T(function(){return G.slice().map(function(e){return J[e].entry})}),P=L.fire,U=L.useEvents;function W(e){return J[G[e]]}function $(e,n){Q(e,n,function(e){for(var n=0;n<G.length;n++)if(W(n).entry.init<=e)return n;return G.length}(n))}function Q(e,n,t){var a=F++,r=new B(e,n,a,!1,!1,!1);G.splice(t,0,r.id),A instanceof S&&A.activeItem>=t&&(A=new S(A.round,A.activeItem+1),R()),J[r.id]={entry:r,handlers:T(function(){return J[r.id].entry})},V(t),P()}function q(e){var n=G.findIndex(function(n){return n===e.id});if(-1===n)throw new Error("Tried to remove initiative entry that doesn't exist. ID:"+e.id);if(G.splice(n,1),delete J[e.id],P(),V(Math.min(n,G.length-1)),A instanceof S){if(0===G.length)A=M;else if(n>=A.activeItem){var t=Math.max(0,A.activeItem-1);if(A=new S(A.round,t),e.active){var a=W(t);X(a,!0),a.handlers.fire()}}R()}}function H(e,n){var t=G[e];G[e]=G[n],G[n]=t;var a=K(e),r=K(n);A instanceof S&&(e===A.activeItem?(A=new S(A.round,n),R()):n===A.activeItem&&(A=new S(A.round,e),R())),P(),a(),r()}function K(e){var n=W(e);return n.entry=n.entry.updateMovement(e,G.length),n.handlers.fire}function V(e){e>=G.length||e<0||(K(e)(),e>0&&K(e-1)(),e<G.length-1&&K(e+1)())}function X(e,n){J[e.entry.id].entry=e.entry.updateActive(n)}var Y=function e(n){Object(N.a)(this,e),this.name=n,this.groups=void 0,this.groups=new Set};function Z(e,n){return e.name.localeCompare(n.name)}var _=T(ae),ee=_.fire,ne=_.useEvents,te=new Map;function ae(){return Array.from(te.values(),function(e){return e.entry})}function re(e,n){if(!te.has(e)){var t=new Y(e);n.forEach(function(e){t.groups.add(e)}),te.set(e,{entry:t,handlers:T(function(){var n=te.get(e);if(n)return n.entry;throw new Error("Missing history item.")})}),ee()}}function ie(){localStorage.setItem("historyItems",JSON.stringify(ae().map(function(e){return{name:e.name,groups:Array.from(e.groups).filter(function(e){return e.length>0})}})))}var ce=localStorage.getItem("historyItems");ce&&JSON.parse(ce).forEach(function(e){re(e.name,e.groups)});var le=t(112);var oe=Object(f.a)(function(e){return{input:{margin:e.spacing(1)}}})(function(e){var n=function(e,n){var t=te.get(e);if(!t)throw new Error("Tried to get events for non-existant entry.");return t.handlers.useEvents(n)}(e.item.name,function(){});return r.a.createElement(h.a,{dense:!0,button:!0,onClick:function(){n.groups.has("")&&!e.showInit?function(e,n){var t=te.get(e.name);if(!t)throw new Error("Missing history item.");t.entry.groups.delete(n)&&(t.handlers.fire(),ee())}(n,""):function(e,n){var t=te.get(e.name);if(!t)throw new Error("Missing history item.");t.entry.groups.add(n),t.handlers.fire(),ee()}(n,"")}},r.a.createElement(E.a,{primary:n.name}),e.showInit?r.a.createElement(g.a,null,r.a.createElement(k.a,{onClick:function(){return function(e){te.delete(e.name)&&ee()}(n)}},r.a.createElement(le.a,null)),r.a.createElement(C,{disabled:!1,onSelected:function(e){$(n.name,e)}})):r.a.createElement(r.a.Fragment,null))});function ue(e){return null===e||null!==e.match(/^ *$/)}var se=t(113);var me=Object(f.a)(function(e){return{input:{margin:e.spacing(1)}}})(function(e){var n=e.classes,t=Object(a.useRef)(null),i=Object(a.useState)(!0),c=Object(d.a)(i,2),l=c[0],o=c[1],u=Object(a.useState)(""),s=Object(d.a)(u,2),m=s[0],f=s[1];return r.a.createElement(h.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,{inputRef:t,placeholder:"Group Name",onChange:function(e){o(ue(e.currentTarget.value)),f(e.currentTarget.value)},inputProps:{"aria-label":"Group Name"}})),r.a.createElement(g.a,null,r.a.createElement(k.a,{className:n.input,disabled:l,onClick:function(){var e,n;e="",n=m,te.forEach(function(t){t.entry.groups.delete(e)&&(t.entry.groups.add(n),t.handlers.fire())}),ee()}},r.a.createElement(se.a,null))))});var fe=Object(f.a)(function(){return{input:{},historyList:{overflow:"scroll",height:"calc(100% - 70px)"},filteringBar:{overflow:"hidden"}}})(function(e){var n=e.classes,t=Object(a.useRef)(null),i=Object(a.useState)(!0),c=Object(d.a)(i,2),l=c[0],o=c[1],u=Object(a.useState)(""),s=Object(d.a)(u,2),m=s[0],f=s[1],w=ne(ie),k=Object(a.useMemo)(function(){return w.filter(function(e){return e.name.includes(m)||function(e,n){var t=!1;return e.groups.forEach(function(e){e.includes(n)&&(t=!0)}),t}(e,m)}).sort(Z)},[w,m]),O=w.filter(function(e){return e.groups.has("")}),I=k.filter(function(e){return 0===e.groups.size}),j=new Map,N=!0,x=!1,S=void 0;try{for(var M,B=function(){var e=M.value;e.groups.forEach(function(n){ue(n)||(j.has(n)||j.set(n,[]),j.get(n).push(e))})},T=k[Symbol.iterator]();!(N=(M=T.next()).done);N=!0)B()}catch(A){x=!0,S=A}finally{try{N||null==T.return||T.return()}finally{if(x)throw S}}return r.a.createElement("div",{className:n.filteringBar},r.a.createElement(v.a,null,r.a.createElement(h.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,{inputRef:t,placeholder:"Name",onChange:function(e){o(ue(e.currentTarget.value)),f(e.currentTarget.value)},className:n.input,inputProps:{"aria-label":"Name"}})),r.a.createElement(g.a,null,r.a.createElement(C,{disabled:l,onSelected:function(e){null!=t.current&&($(t.current.value,e),re(t.current.value,[""]),t.current.value="",o(!0),f(""))}})))),r.a.createElement(b.a,null),O.length>0?r.a.createElement(v.a,null,r.a.createElement(me,null),O.map(function(e){return r.a.createElement(oe,{key:e.name,item:e,showInit:!1})}),r.a.createElement(b.a,null)):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:n.historyList},Array.from(j).sort(function(e,n){return e[0].localeCompare(n[0])}).map(function(e){return r.a.createElement(v.a,null,r.a.createElement(y.a,{disableSticky:!0},e[0]),e[1].map(function(e){return r.a.createElement(oe,{key:e.name,item:e,showInit:!0})}))}),I.length>0?r.a.createElement(v.a,null,r.a.createElement(y.a,{disableSticky:!0},"Others"),I.map(function(e){return r.a.createElement(oe,{key:e.name,item:e,showInit:!0})})):r.a.createElement(r.a.Fragment,null)))});var de=Object(f.a)(function(e){return{label:{margin:e.spacing(1)}}})(function(e){var n=e.classes,t=z(function(){});return t instanceof S?r.a.createElement(m.a,{variant:"body2",color:"inherit",noWrap:!0,className:n.label},"Round ",t.round):r.a.createElement(r.a.Fragment,null)}),ve=t(124),he=t(125),Ee=t(116),pe=t(117),ge=t(118),be=t(119),ye=t(120),we=t(121),ke=t(122),Oe=t(123),Ie=[2,3,4,5];var je=Object(f.a)(function(e){return{initCell:{width:"auto",align:"right",padding:"checkbox"},titleCell:{width:"100%"},actionCell:{width:"atuo"},hpControls:{marginRight:e.spacing(2),alignSelf:"center"}}})(function(e){var n,t,i=e.classes,c=Object(a.useState)(0),l=Object(d.a)(c,2),o=l[0],u=l[1],s=(n=e.item.id,t=function(){},J[n].handlers.useEvents(t)),f=Object(a.useState)(null),v=Object(d.a)(f,2),h=v[0],E=v[1],p=function(e,n){E(null),function(e,n){for(var t=G.findIndex(function(n){return n===e.id}),a=J[G[t]],r=0;r<n;r++)Q(a.entry.name+" ("+(r+2)+")",a.entry.init,t+1+r);a.entry=new B(a.entry.name+" (1)",a.entry.init,a.entry.id,a.entry.active,a.entry.canMoveDown,a.entry.canMoveUp),a.handlers.fire()}(s,Ie[n]-1)};return r.a.createElement(Ee.a,{selected:s.active},r.a.createElement(pe.a,{className:i.initCell},s.init),r.a.createElement(pe.a,{className:i.titleCell},r.a.createElement(m.a,{variant:"subtitle1"},s.name)),r.a.createElement(pe.a,{className:i.actionCell,padding:"checkbox"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ge.a,{item:!0,alignItems:"center",style:{alignSelf:"center"}},r.a.createElement(be.a,{color:"primary",variant:"contained",size:"small"},r.a.createElement(ye.a,{onClick:function(){return u(o-10)}},"-10"),r.a.createElement(ye.a,{onClick:function(){return u(o-5)}},"-5"),r.a.createElement(ye.a,{onClick:function(){return u(o-1)}},"-1"))),r.a.createElement(ge.a,{item:!0,alignItems:"center",style:{alignSelf:"center"}},r.a.createElement(m.a,{align:"center",style:{width:50}},o)),r.a.createElement(ge.a,{item:!0,alignItems:"center",className:i.hpControls},r.a.createElement(be.a,{color:"primary",variant:"contained",size:"small"},r.a.createElement(ye.a,{onClick:function(){return u(o+1)}},"+1"),r.a.createElement(ye.a,{onClick:function(){return u(o+5)}},"+5"),r.a.createElement(ye.a,{onClick:function(){return u(o+10)}},"+10"))),r.a.createElement(k.a,{onClick:function(e){return function(e){var n=G.findIndex(function(n){return n===e.id});if(-1===n)throw new Error("Tried to move initiative entry that doesn't exist. ID:"+e.id);0!==n&&H(n,n-1)}(s)},disabled:!s.canMoveUp},r.a.createElement(we.a,null)),r.a.createElement(k.a,{onClick:function(e){return function(e){var n=G.findIndex(function(n){return n===e.id});if(-1===n)throw new Error("Tried to move initiative entry that doesn't exist. ID:"+e.id);n!==G.length-1&&H(n,n+1)}(s)},disabled:!s.canMoveDown},r.a.createElement(ke.a,null)),r.a.createElement("span",null,r.a.createElement(k.a,{onClick:function(e){E(e.currentTarget)},className:i.button,"aria-label":"Duplicate Entry"},r.a.createElement(Oe.a,null)),r.a.createElement(O.a,{anchorEl:h,open:Boolean(h),onClose:function(){E(null)}},Ie.map(function(e,n){return r.a.createElement(I.a,{dense:!0,key:e,onClick:function(e){return p(0,n)}},e)}))),r.a.createElement(k.a,{onClick:function(e){return q(s)}},r.a.createElement(le.a,null)))))});var Ce=Object(f.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},initCell:{width:"50px",align:"right"}}})(function(e){var n=e.classes,t=U(function(){});return r.a.createElement("div",{className:n.root},r.a.createElement(ve.a,null,r.a.createElement(he.a,null,t.map(function(e){return r.a.createElement(je,{item:e,key:e.id})}))))}),Ne=t(126),xe=t(127),Se=t(128);var Me=Object(f.a)(function(e){return{fabBox:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},fab:{marginLeft:e.spacing(2)}}})(function(e){var n=e.classes,t=z(function(){}),a=U(function(){}),i=0===a.length;return r.a.createElement("div",{className:n.fabBox},r.a.createElement(Ne.a,{className:n.fab,color:"secondary",disabled:i,onClick:function(){return a.forEach(function(e){return q(e)})}},r.a.createElement(xe.a,null)),r.a.createElement(Ne.a,{className:n.fab,color:"primary",disabled:i,onClick:function(){return t instanceof S?function(){if(A instanceof S){var e=J[G[A.activeItem]];A=A.next(G.length);var n=J[G[A.activeItem]];X(e,!1),X(n,!0),R(),e.handlers.fire(),n.handlers.fire()}}():function(){if(0!==G.length){A=new S(1,0);var e=W(0);e.entry=e.entry.updateActive(!0),R(),e.handlers.fire()}}()}},r.a.createElement(Se.a,null)))});var Be=Object(f.a)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:300,flexShrink:0},drawerPaper:{width:300},content:{flexGrow:1,padding:e.spacing(2),marginLeft:300},input:{margin:e.spacing(1)},toolbar:e.mixins.toolbar,grow:{flexGrow:1}}})(function(e){var n=e.classes;return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null),r.a.createElement(u.a,{position:"fixed",className:n.appBar},r.a.createElement(s.a,null,r.a.createElement(m.a,{variant:"h6",color:"inherit",noWrap:!0},"Quick Initiative"),r.a.createElement(de,null),r.a.createElement("div",{className:n.grow}))),r.a.createElement(o.a,{className:n.drawer,variant:"permanent",classes:{paper:n.drawerPaper},anchor:"left"},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(fe,null)),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(Ce,null)),r.a.createElement(Me,null))});var Te=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(Be,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[59,1,2]]]);
//# sourceMappingURL=main.9a0ee914.chunk.js.map